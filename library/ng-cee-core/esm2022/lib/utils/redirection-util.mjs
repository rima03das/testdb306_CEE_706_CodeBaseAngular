export class RedirectionUtil {
    router;
    constructor(router) {
        this.router = router;
    }
    redirectTo(stepId, target = null, postURL = '') {
        const navigateStepName = localStorage.getItem('navigateStepName') === 'true' ? true : false;
        let url;
        if (navigateStepName) {
            const routeMap = JSON.parse(localStorage.getItem('CEE_ROUTE_MAP'));
            url = routeMap[stepId];
        }
        else {
            url = 'wfe/step/' + stepId;
        }
        url = url + postURL;
        if (target) {
            if (target === 'location') {
                // For same-origin navigation, use location.href for faster loading
                // This avoids Angular's routing lifecycle but maintains browser history
                const baseUrl = window.location.origin;
                const fullUrl = url.startsWith('/') ? `${baseUrl}${url}` : `${baseUrl}/${url}`;
                this.router?.navigate([]).then(_ => window.location.href = fullUrl);
            }
            else {
                // For external targets, use window.open
                this.router?.navigate([]).then(result => { window.open(url, target); });
            }
        }
        else {
            this.router?.navigateByUrl(url);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVkaXJlY3Rpb24tdXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL0FuZ3VsYXItMTcvRVNGLUFuZ3VsYXItV0ZFLUxpYnJhcnkvcHJvamVjdHMvbmctY2VlLWNvcmUvc3JjL2xpYi91dGlscy9yZWRpcmVjdGlvbi11dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxlQUFlO0lBQ0w7SUFBbkIsWUFBbUIsTUFBYztRQUFkLFdBQU0sR0FBTixNQUFNLENBQVE7SUFBSSxDQUFDO0lBRXRDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsU0FBaUIsSUFBSSxFQUFFLE9BQU8sR0FBRyxFQUFFO1FBQ2xELE1BQU0sZ0JBQWdCLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDNUYsSUFBSSxHQUFHLENBQUM7UUFDUixJQUFJLGdCQUFnQixFQUFFO1lBQ2xCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDMUI7YUFBTTtZQUNILEdBQUcsR0FBRyxXQUFXLEdBQUcsTUFBTSxDQUFDO1NBQzlCO1FBQ0QsR0FBRyxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUM7UUFDcEIsSUFBSSxNQUFNLEVBQUU7WUFDUixJQUFHLE1BQU0sS0FBSyxVQUFVLEVBQUU7Z0JBQ3RCLG1FQUFtRTtnQkFDbkUsd0VBQXdFO2dCQUN4RSxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztnQkFDdkMsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxJQUFJLEdBQUcsRUFBRSxDQUFDO2dCQUMvRSxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBRSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQzthQUN4RTtpQkFDSTtnQkFDRCx3Q0FBd0M7Z0JBQ3hDLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDM0U7U0FDSjthQUFNO1lBQ0gsSUFBSSxDQUFDLE1BQU0sRUFBRSxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDbkM7SUFDTCxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlZGlyZWN0aW9uVXRpbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcm91dGVyOiBSb3V0ZXIpIHsgfVxyXG5cclxuICAgIHJlZGlyZWN0VG8oc3RlcElkLCB0YXJnZXQ6IHN0cmluZyA9IG51bGwsIHBvc3RVUkwgPSAnJykge1xyXG4gICAgICAgIGNvbnN0IG5hdmlnYXRlU3RlcE5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmF2aWdhdGVTdGVwTmFtZScpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgbGV0IHVybDtcclxuICAgICAgICBpZiAobmF2aWdhdGVTdGVwTmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCByb3V0ZU1hcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0NFRV9ST1VURV9NQVAnKSk7XHJcbiAgICAgICAgICAgIHVybCA9IHJvdXRlTWFwW3N0ZXBJZF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXJsID0gJ3dmZS9zdGVwLycgKyBzdGVwSWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVybCA9IHVybCArIHBvc3RVUkw7XHJcbiAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICBpZih0YXJnZXQgPT09ICdsb2NhdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZvciBzYW1lLW9yaWdpbiBuYXZpZ2F0aW9uLCB1c2UgbG9jYXRpb24uaHJlZiBmb3IgZmFzdGVyIGxvYWRpbmdcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYXZvaWRzIEFuZ3VsYXIncyByb3V0aW5nIGxpZmVjeWNsZSBidXQgbWFpbnRhaW5zIGJyb3dzZXIgaGlzdG9yeVxyXG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZVVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsVXJsID0gdXJsLnN0YXJ0c1dpdGgoJy8nKSA/IGAke2Jhc2VVcmx9JHt1cmx9YCA6IGAke2Jhc2VVcmx9LyR7dXJsfWA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlcj8ubmF2aWdhdGUoW10pLnRoZW4oXyA9PiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBmdWxsVXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEZvciBleHRlcm5hbCB0YXJnZXRzLCB1c2Ugd2luZG93Lm9wZW5cclxuICAgICAgICAgICAgICAgIHRoaXMucm91dGVyPy5uYXZpZ2F0ZShbXSkudGhlbihyZXN1bHQgPT4geyB3aW5kb3cub3Blbih1cmwsIHRhcmdldCk7IH0pO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yb3V0ZXI/Lm5hdmlnYXRlQnlVcmwodXJsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19