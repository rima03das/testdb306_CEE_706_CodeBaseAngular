/**
 * TODO: Remove this file and update the code once the associated map comes from the WFE End.
 */
export class AssociatedMapUtil {
    name = 'AssociatedMap';
    get() {
        const data = window.sessionStorage.getItem(this.name);
        return data !== null ? JSON.parse(atob(data)) : undefined;
    }
    getAssociatedBlockById(fieldId) {
        const data = this.get();
        let item = '';
        if (data) {
            for (const key of Object.keys(data)) {
                if (data[key].includes(fieldId)) {
                    item = key;
                    break;
                }
            }
        }
        return item;
    }
    set(key, values) {
        const obj = {};
        let data = this.get();
        obj[key] = values;
        let success = false;
        if (data) {
            if (Object.keys(data).length > 0) {
                if (!Object.keys(data).includes(key)) {
                    data = { ...data, ...obj };
                    this.storeData(data);
                    return;
                }
            }
            else {
                success = true;
            }
        }
        else {
            success = true;
        }
        if (success) {
            this.storeData(obj);
        }
    }
    storeData(data) {
        window.sessionStorage.setItem(this.name, btoa(JSON.stringify(data)));
    }
    deleteByIds(ids) {
        const data = this.get();
        if (data) {
            const sessionArray = Object.keys(data);
            const newArray = sessionArray.filter(item => {
                return !ids.includes(item);
            });
            const obj = {};
            for (const key of newArray) {
                if (data[key] !== undefined) {
                    obj[key] = data[key];
                }
            }
            window.sessionStorage.setItem(this.name, btoa(JSON.stringify(obj)));
        }
    }
    deleteAll() {
        window.sessionStorage.removeItem(this.name);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzb2NpYXRlZC1tYXAtdXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9Bbmd1bGFyLTE3L0VTRi1Bbmd1bGFyLVdGRS1MaWJyYXJ5L3Byb2plY3RzL25nLWNlZS1jb3JlL3NyYy9saWIvdXRpbHMvYXNzb2NpYXRlZC1tYXAtdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxNQUFNLE9BQU8saUJBQWlCO0lBQzFCLElBQUksR0FBRyxlQUFlLENBQUM7SUFFZixHQUFHO1FBQ1AsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RELE9BQU8sSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQzlELENBQUM7SUFFRCxzQkFBc0IsQ0FBQyxPQUFPO1FBQzFCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZCxJQUFJLElBQUksRUFBRTtZQUNOLEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDakMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUM3QixJQUFJLEdBQUcsR0FBRyxDQUFDO29CQUNYLE1BQU07aUJBQ1Q7YUFDSjtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELEdBQUcsQ0FBQyxHQUFHLEVBQUUsTUFBTTtRQUNYLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNmLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN0QixHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ2xCLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLElBQUksRUFBRTtZQUNOLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7b0JBQ2xDLElBQUksR0FBRyxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUcsR0FBRyxFQUFFLENBQUM7b0JBQzNCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ3JCLE9BQU87aUJBQ1Y7YUFDSjtpQkFBTTtnQkFDSCxPQUFPLEdBQUcsSUFBSSxDQUFDO2FBQ2xCO1NBQ0o7YUFBTTtZQUNILE9BQU8sR0FBRyxJQUFJLENBQUM7U0FDbEI7UUFDRCxJQUFJLE9BQU8sRUFBRTtZQUNULElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRU8sU0FBUyxDQUFDLElBQUk7UUFDbEIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVELFdBQVcsQ0FBQyxHQUFHO1FBQ1gsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLElBQUksSUFBSSxFQUFFO1lBQ04sTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN2QyxNQUFNLFFBQVEsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN4QyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvQixDQUFDLENBQUMsQ0FBQztZQUNILE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUNmLEtBQUssTUFBTSxHQUFHLElBQUksUUFBUSxFQUFFO2dCQUN4QixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxTQUFTLEVBQUU7b0JBQ3pCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQ3hCO2FBQ0o7WUFDRCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN2RTtJQUNMLENBQUM7SUFFRCxTQUFTO1FBQ0wsTUFBTSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hELENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUT0RPOiBSZW1vdmUgdGhpcyBmaWxlIGFuZCB1cGRhdGUgdGhlIGNvZGUgb25jZSB0aGUgYXNzb2NpYXRlZCBtYXAgY29tZXMgZnJvbSB0aGUgV0ZFIEVuZC5cclxuICovXHJcblxyXG5leHBvcnQgY2xhc3MgQXNzb2NpYXRlZE1hcFV0aWwge1xyXG4gICAgbmFtZSA9ICdBc3NvY2lhdGVkTWFwJztcclxuXHJcbiAgICBwcml2YXRlIGdldCgpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odGhpcy5uYW1lKTtcclxuICAgICAgICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IEpTT04ucGFyc2UoYXRvYihkYXRhKSkgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXNzb2NpYXRlZEJsb2NrQnlJZChmaWVsZElkKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0KCk7XHJcbiAgICAgICAgbGV0IGl0ZW0gPSAnJztcclxuICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhkYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFba2V5XS5pbmNsdWRlcyhmaWVsZElkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KGtleSwgdmFsdWVzKSB7XHJcbiAgICAgICAgY29uc3Qgb2JqID0ge307XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmdldCgpO1xyXG4gICAgICAgIG9ialtrZXldID0gdmFsdWVzO1xyXG4gICAgICAgIGxldCBzdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LmtleXMoZGF0YSkuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7IC4uLmRhdGEsIC4uLm9iaiB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVEYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmVEYXRhKG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RvcmVEYXRhKGRhdGEpIHtcclxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm5hbWUsIGJ0b2EoSlNPTi5zdHJpbmdpZnkoZGF0YSkpKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVCeUlkcyhpZHMpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXQoKTtcclxuICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uQXJyYXkgPSBPYmplY3Qua2V5cyhkYXRhKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBzZXNzaW9uQXJyYXkuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICFpZHMuaW5jbHVkZXMoaXRlbSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBvYmogPSB7fTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgbmV3QXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gZGF0YVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHRoaXMubmFtZSwgYnRvYShKU09OLnN0cmluZ2lmeShvYmopKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUFsbCgpIHtcclxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLm5hbWUpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==